<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.jkh.khbank.dao.AdminDAO">

	<insert id="addLoan">
		insert into
		Loan(laName,laDetail,laInterest,laLimitMin,laLimitMax,laOverdue,laCreate)
		values(#{la.laName},#{la.laDetail},#{la.laInterest},#{la.laLimitMin},#{la.laLimitMax},#{la.laOverdue},NOW())
	</insert>
	<select id="selectAjaxLoanList" resultType="LoanVO">
		select * from loan
		order by laNum desc
		limit
		#{cri.pageStart}, #{cri.perPageNum}
	</select>
	<select id="selectTotalCount" resultType="int">
		select count(*) from
		loan
	</select>
	<select id="getLoanNum" resultType="LoanVO">
		select * from loan where
		laNum = #{num}
	</select>
	<update id="loanUpdate">
		UPDATE loan
		SET
		laName = #{la.laName},
		laInterest =
		#{la.laInterest},
		laLimitMax = #{la.laLimitMax},
		laLimitMin =
		#{la.laLimitMin},
		laOverdue = #{la.laOverdue},
		laDetail = #{la.laDetail}
		WHERE
		laNum = #{la.laNum}
	</update>
	<delete id="deleteLoan">
		DELETE FROM loan
		WHERE laNum = #{num}
	</delete>
</mapper>